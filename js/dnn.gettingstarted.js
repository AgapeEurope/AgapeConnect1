var GettingStartedNS = {}; GettingStartedNS.markAsShown = function (b, a) { var c = pageCurrentDomainUrl + "/Default.aspx/SetGettingStartedPageAsShown"; $.ajax({ type: "POST", url: c, data: "{ portailId: " + pageCurrentPortalId + "}", async: false, contentType: "application/json; charset=utf-8", dataType: "json", success: function (d) { if (d.d) { if (b == "goto" && window.location.href.indexOf("popUp") > -1) { window.location.href = a } else { if (b == "show" && window.location.href.indexOf("popUp") == -1) { dnnModal.show(a + "?popUp=true", false, 550, 950, true, "") } else { window.location.href = a } } } }, error: function () { } }); return false }; GettingStartedNS.deleteBeforeCloseEvent = function () { var a = parent.$(".ui-dialog:visible"); if (a != null) { a.unbind("dialogbeforeclose") } }; GettingStartedNS.showModal = function (a) { GettingStartedNS.markAsShown("show", a); GettingStartedNS.deleteBeforeCloseEvent() }; GettingStartedNS.goTo = function (a) { GettingStartedNS.markAsShown("goto", a); GettingStartedNS.deleteBeforeCloseEvent() }; GettingStartedNS.addBeforeCloseEvent = function (a) { var b = parent.$(".ui-dialog:visible"); if (b != null) { b.bind("dialogbeforeclose", function (c, d) { GettingStartedNS.goTo(a) }) } }; GettingStartedNS.setDialogTitle = function (a) { parent.$("#iPopUp").dialog({ title: a }) }; $(document).ready(function () { GettingStartedNS.addBeforeCloseEvent(pageCurrentPortalAliasUrl); GettingStartedNS.setDialogTitle(gettingStartedPageTitle) });